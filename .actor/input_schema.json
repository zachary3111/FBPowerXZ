{
  "title": "Facebook Posts Search (m.facebook)",
  "description": "Search m.facebook.com for posts matching a query, with optional date filters, cookies, and proxy.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "query": {
      "title": "Query",
      "type": "string",
      "editor": "textfield",
      "description": "Keywords to search for Facebook posts (e.g., \"new premises\" OR \"opening soon\")."
    },
    "maxResults": {
      "title": "Max results",
      "type": "integer",
      "editor": "number",
      "minimum": 1,
      "maximum": 5000,
      "default": 100,
      "description": "Maximum number of posts to collect (1â€“5000)."
    },
    "recent_posts": {
      "title": "Only recent posts (last 30 days)",
      "type": "boolean",
      "editor": "checkbox",
      "default": false,
      "description": "If true, only include posts from the last 30 days (ignored when start/end dates are set)."
    },
    "start_date": {
      "title": "Start date (YYYY-MM-DD)",
      "type": "string",
      "editor": "textfield",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Include posts on or after this date (optional)."
    },
    "end_date": {
      "title": "End date (YYYY-MM-DD)",
      "type": "string",
      "editor": "textfield",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Include posts on or before this date (optional)."
    },
    "proxy": {
      "title": "Proxy configuration (recommended)",
      "type": "object",
      "editor": "json",
      "description": "Apify Proxy or custom proxy configuration; passed to Actor.createProxyConfiguration()."
    },
    "cookies": {
      "title": "Playwright cookies (optional)",
      "type": "array",
      "editor": "json",
      "description": "Browser cookies array to pre-authenticate on Facebook.",
      "items": {
        "type": "object",
        "title": "Cookie object",
        "properties": {
          "name": { "title": "Name", "type": "string", "description": "Cookie name (e.g., c_user)." },
          "value": { "title": "Value", "type": "string", "description": "Cookie value." },
          "domain": { "title": "Domain", "type": "string", "description": "Cookie domain (e.g., .facebook.com or m.facebook.com). Optional." },
          "path": { "title": "Path", "type": "string", "description": "Cookie path (default '/')." },
          "expires": { "title": "Expires (Unix seconds)", "type": ["number","null"], "description": "Expiry as Unix time (seconds). Null/omit for session cookie." },
          "httpOnly": { "title": "HTTP-only", "type": "boolean", "description": "Whether the cookie is HTTP-only." },
          "secure": { "title": "Secure", "type": "boolean", "description": "Whether the cookie is Secure." },
          "sameSite": {
            "title": "SameSite",
            "type": "string",
            "enum": ["Lax", "None", "Strict"],
            "description": "SameSite mode for the cookie."
          }
        },
        "required": ["name", "value"],
        "description": "Single cookie object."
      }
    },
    "session": {
      "title": "Session options (optional)",
      "type": "object",
      "editor": "json",
      "description": "Session pool tuning parameters.",
      "properties": {
        "maxPoolSize": {
          "title": "Max session pool size",
          "type": "integer",
          "minimum": 1,
          "maximum": 200,
          "default": 20,
          "description": "Maximum number of sessions in the pool."
        },
        "persistState": {
          "title": "Persist session state",
          "type": "boolean",
          "default": true,
          "description": "Whether to persist session state between runs."
        },
        "retireOnBlocked": {
          "title": "Retire session when blocked",
          "type": "boolean",
          "default": true,
          "description": "Retire session if a blocked page is detected."
        }
      }
    }
  },
  "required": ["query"]
}
