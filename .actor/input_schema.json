{
  "title": "Facebook Posts Search (m.facebook)",
  "description": "Search m.facebook.com for posts matching a query, with optional date filters, cookies, and proxy.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "query": {
      "title": "Query",
      "type": "string",
      "editor": "textfield",
      "description": "Keywords to search for Facebook posts (e.g., \"new premises\" OR \"opening soon\")."
    },
    "maxResults": {
      "title": "Max results",
      "type": "integer",
      "editor": "number",
      "minimum": 1,
      "maximum": 5000,
      "default": 100,
      "description": "Maximum number of posts to collect (1â€“5000)."
    },
    "recent_posts": {
      "title": "Only recent posts (last 30 days)",
      "type": "boolean",
      "editor": "checkbox",
      "default": false,
      "description": "If true, only include posts from the last 30 days (ignored when start/end dates are set)."
    },
    "start_date": {
      "title": "Start date (YYYY-MM-DD)",
      "type": "string",
      "editor": "textfield",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Include posts on or after this date (optional)."
    },
    "end_date": {
      "title": "End date (YYYY-MM-DD)",
      "type": "string",
      "editor": "textfield",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Include posts on or before this date (optional)."
    },
    "proxy": {
      "title": "Proxy configuration (recommended)",
      "type": "object",
      "editor": "json",
      "description": "Apify Proxy or custom proxy configuration; passed to Actor.createProxyConfiguration()."
    },

    "cookies": {
      "title": "Cookies input mode",
      "type": "string",
      "editor": "select",
      "enum": ["none", "paste_json_below"],
      "enumTitles": ["No cookies", "I'll paste JSON in 'Cookies JSON'"],
      "default": "none",
      "description": "Choose how you'll provide cookies. If you pick 'paste_json_below', fill the 'Cookies JSON' field with a JSON array of cookie objects."
    },
    "cookies_json": {
      "title": "Cookies JSON",
      "type": "string",
      "editor": "javascript",
      "description": "Paste a JSON array of cookie objects (EditThisCookie-style). Example: [{\"name\":\"c_user\",\"value\":\"...\",\"domain\":\".facebook.com\",\"path\":\"/\",\"httpOnly\":false,\"secure\":true}]"
    },

    "session": {
      "title": "Session options (optional)",
      "type": "object",
      "editor": "json",
      "description": "Session pool tuning parameters.",
      "properties": {
        "maxPoolSize": {
          "title": "Max session pool size",
          "type": "integer",
          "minimum": 1,
          "maximum": 200,
          "description": "Maximum number of sessions in the pool."
        },
        "persistState": {
          "title": "Persist session state",
          "type": "boolean",
          "description": "Whether to persist session state between runs."
        },
        "retireOnBlocked": {
          "title": "Retire session when blocked",
          "type": "boolean",
          "description": "Retire session if a blocked page is detected."
        }
      }
    }
  },
  "required": ["query"]
}
